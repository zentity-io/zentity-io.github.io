<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>zentity - Scoping Resolution</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.8"/>
    <meta name="description" content="zentity brings entity resolution to Elasticsearch. Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <meta property="og:title" content="zentity - Entity Resolution for Elasticsearch"/>
    <meta property="og:description" content="Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <meta property="og:image" content="/img/zentity-og-image.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://zentity.io/"/>
    <meta name="twitter:title" content="zentity - Entity Resolution for Elasticsearch"/>
    <meta name="twitter:description" content="Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/all.css?id=790667344"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-27325874-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-27325874-2');
      var to = function(uri, event_category) {
        gtag('event', 'click', {
          'event_category': event_category,
          'event_label': uri,
          'transport_type': 'beacon',
          'event_callback': function(){document.location = uri;}
        });
      };
    </script><script src="/js/all.js?id=505624186"></script>
  </head>
  <body>
    <div id="app" >
      <div id="top"><div id="nav">
          <div style="max-width:950px;margin:0 auto;">
            <a href="/">
              <h1 aria-label="zentity">
                <span style="color:rgb(0,169,224)">z</span><span style="color:rgb(14,119,205)">en</span><span style="color:rgb(31,73,125)">tity</span>
              </h1>
            </a>
            <div id="buttons">
              <a href="/docs">
                <button type="button" class="btn btn-sm btn-primary" aria-label="Documentation">
                  Documentation
                </button>
              </a>
              <a href="/releases">
                <button type="button" class="btn btn-sm btn-link" aria-label="Releases">
                  Releases
                </button>
              </a>
              <a href="https://github.com/zentity-io/zentity" title="Github" onclick="to('https://github.com/zentity-io/zentity');">
                <button type="button" class="btn btn-sm btn-link" aria-label="Github">
                  Github
                </button>
              </a>
            </div>
          </div>
        </div></div>
      <div id="main" class="content">
        <p><a href="/">Home</a> / <a href="/docs">Documentation</a> / <a href="/docs/basic-usage">Basic Usage</a> / Scoping Resolution</p>
<h4><a name="contents"></a>Basic Usage Tutorials ðŸ“–</h4>
<p>This tutorial is part of a series to help you learn and perform the basic
functions of zentity. Each tutorial adds a little more sophistication to the
prior tutorials, so you can start simple and learn the more advanced features
over time.</p>
<ol>
<li><a href="/docs/basic-usage/exact-name-matching">Exact Name Matching</a></li>
<li><a href="/docs/basic-usage/robust-name-matching">Robust Name Matching</a></li>
<li><a href="/docs/basic-usage/multiple-attribute-resolution">Multiple Attribute Resolution</a></li>
<li><a href="/docs/basic-usage/multiple-resolver-resolution">Multiple Resolver Resolution</a></li>
<li><a href="/docs/basic-usage/cross-index-resolution">Cross Index Resolution</a></li>
<li><strong>Scoping Resolution</strong> <em>&#8592; You are here.</em></li>
</ol>
<hr>
<h1><a name="scoping-resolution"></a>Scoping Resolution</h1>
<p>A resolution job will attempt to run every resolver for every index in the
entity model, unless otherwise instructed. If you use the same entity model for
multiple applications, then you might need only some of the resolvers or indices
for each application. You can limit the scope of a resolution job to the
resolvers and indices that apply to a given use case. This will prevent
unnecessary searches, omit unnecessary results, optimize the performance of your
resolution jobs, and minimize the load on your cluster.</p>
<p>This tutorial shows how you can scope a resolution job to prevent unnecessary
searches.</p>
<p>Let's dive in.</p>
<blockquote><p><strong>Before you start</strong></p>
<p>You must install <a href="https://www.elastic.co/downloads/elasticsearch" onclick="to('https://www.elastic.co/downloads/elasticsearch', 'outbound');" class="external">Elasticsearch</a>,
<a href="https://www.elastic.co/downloads/kibana" onclick="to('https://www.elastic.co/downloads/kibana', 'outbound');" class="external">Kibana</a>, and <a href="/docs/installation">zentity</a>
to complete this tutorial. This tutorial was tested with
<a href="/releases#zentity-1.6.1">zentity-1.6.1-elasticsearch-7.10.1</a>.</p>
<p><strong>Quick start</strong></p>
<p>You can use the <a href="/sandbox">zentity sandbox</a> which has the required software
and data for these tutorials. This will let you skip many of the setup steps.</p>
</blockquote>
<h2><a name="prepare"></a>1. Prepare for the tutorial</h2>
<h3><a name="install-required-plugins"></a>1.1 Install the required plugins</h3>
<blockquote><p><strong>Note:</strong> Skip this step if you're using the <a href="/sandbox">zentity sandbox</a>.</p>
</blockquote>
<p>This tutorial uses the <a href="https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-phonetic.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-phonetic.html', 'outbound');" class="external">phonetic analysis plugin</a>
and <a href="https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-icu.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-icu.html', 'outbound');" class="external">ICU analysis plugin</a>
for Elasticsearch. You will need to stop Elasticsearch, install these plugin,
and start Elasticsearch. You can learn more about Elasticsearch plugin management
<a href="https://www.elastic.co/guide/en/elasticsearch/plugins/current/plugin-management.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/plugins/current/plugin-management.html', 'outbound');" class="external">here</a>.</p>
<p>For Linux (in the <code>$ES_HOME</code> directory of a .tar.gz installation):</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a2005b63129a17a56">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a2005b63129a17a56"><div class="highlight"><pre><span></span>sudo bin/elasticsearch-plugin install analysis-phonetic
sudo bin/elasticsearch-plugin install analysis-icu
</pre></div>
</span>
        </div>
        <p>For Windows (in the <code>$ES_HOME</code> directory of a .zip installation):</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a631891551d5bf68b">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a631891551d5bf68b"><div class="highlight"><pre><span></span>bin/elasticsearch-plugin.bat install analysis-phonetic
bin/elasticsearch-plugin.bat install analysis-icu
</pre></div>
</span>
        </div>
        <h3><a name="open-kibana-console-ui"></a>1.2 Open the Kibana Console UI</h3>
<p>The <a href="https://www.elastic.co/guide/en/kibana/current/console-kibana.html" onclick="to('https://www.elastic.co/guide/en/kibana/current/console-kibana.html', 'outbound');" class="external">Kibana Console UI</a>
makes it easy to submit requests to Elasticsearch and read responses.</p>
<h3><a name="delete-old-tutorial-indices"></a>1.3 Delete any old tutorial indices</h3>
<blockquote><p><strong>Note:</strong> Skip this step if you're using the <a href="/sandbox">zentity sandbox</a>.</p>
</blockquote>
<p>Let's start from scratch. Delete any tutorial indices you might have created
from other tutorials.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a8c79424a860aaa08">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a8c79424a860aaa08"><div class="highlight"><pre><span></span><span class="nx">DELETE</span> <span class="nx">zentity_tutorial_5_</span><span class="o">*</span>
</pre></div>
</span>
        </div>
        <h3><a name="create-tutorial-index"></a>1.4 Create the tutorial index</h3>
<blockquote><p><strong>Note:</strong> Skip this step if you're using the <a href="/sandbox">zentity sandbox</a>.</p>
</blockquote>
<p>Now create the indices for this tutorial. This is the same data used in the
prior tutorial on <a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>.</p>
<p><strong>Index A</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a9e7a4386b398c73a">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a9e7a4386b398c73a"><div class="highlight"><pre><span></span><span class="nx">PUT</span> <span class="nx">zentity_tutorial_5_cross_index_resolution_a</span>
<span class="p">{</span>
  <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;number_of_shards&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;number_of_replicas&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;analysis&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;street_suffix_map&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;pattern&quot;</span> <span class="o">:</span> <span class="s2">&quot;(st)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;pattern_replace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;replacement&quot;</span> <span class="o">:</span> <span class="s2">&quot;street&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phonetic&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;phonetic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;encoder&quot;</span> <span class="o">:</span> <span class="s2">&quot;nysiis&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;punct_white&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;pattern&quot;</span> <span class="o">:</span> <span class="s2">&quot;\\p{Punct}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;pattern_replace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;replacement&quot;</span> <span class="o">:</span> <span class="s2">&quot; &quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;remove_non_digits&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;pattern&quot;</span> <span class="o">:</span> <span class="s2">&quot;[^\\d]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;pattern_replace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;replacement&quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;analyzer&quot;</span> <span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;name_clean&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;icu_normalizer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;icu_folding&quot;</span><span class="p">,</span>
              <span class="s2">&quot;punct_white&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;name_phonetic&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;icu_normalizer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;icu_folding&quot;</span><span class="p">,</span>
              <span class="s2">&quot;punct_white&quot;</span><span class="p">,</span>
              <span class="s2">&quot;phonetic&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;street_clean&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;icu_normalizer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;icu_folding&quot;</span><span class="p">,</span>
              <span class="s2">&quot;punct_white&quot;</span><span class="p">,</span>
              <span class="s2">&quot;trim&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phone_clean&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;remove_non_digits&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;mappings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_clean&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_phonetic&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_clean&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_phonetic&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;street_clean&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_clean&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;phone_clean&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p><strong>Index B</strong></p>
<p><span class="code-overflow"></span></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a4343aacc6c9fd48e">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a4343aacc6c9fd48e"><div class="highlight"><pre><span></span><span class="nx">PUT</span> <span class="nx">zentity_tutorial_5_cross_index_resolution_b</span>
<span class="p">{</span>
  <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;number_of_shards&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;number_of_replicas&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;analysis&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;street_suffix_map&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;pattern&quot;</span> <span class="o">:</span> <span class="s2">&quot;(st)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;pattern_replace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;replacement&quot;</span> <span class="o">:</span> <span class="s2">&quot;street&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phonetic&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;phonetic&quot;</span><span class="p">,</span>
            <span class="s2">&quot;encoder&quot;</span> <span class="o">:</span> <span class="s2">&quot;nysiis&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;punct_white&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;pattern&quot;</span> <span class="o">:</span> <span class="s2">&quot;\\p{Punct}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;pattern_replace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;replacement&quot;</span> <span class="o">:</span> <span class="s2">&quot; &quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;remove_non_digits&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;pattern&quot;</span> <span class="o">:</span> <span class="s2">&quot;[^\\d]&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span> <span class="o">:</span> <span class="s2">&quot;pattern_replace&quot;</span><span class="p">,</span>
            <span class="s2">&quot;replacement&quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;analyzer&quot;</span> <span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;name_clean&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;icu_normalizer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;icu_folding&quot;</span><span class="p">,</span>
              <span class="s2">&quot;punct_white&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;name_phonetic&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;icu_normalizer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;icu_folding&quot;</span><span class="p">,</span>
              <span class="s2">&quot;punct_white&quot;</span><span class="p">,</span>
              <span class="s2">&quot;phonetic&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;street_clean&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;icu_normalizer&quot;</span><span class="p">,</span>
              <span class="s2">&quot;icu_folding&quot;</span><span class="p">,</span>
              <span class="s2">&quot;punct_white&quot;</span><span class="p">,</span>
              <span class="s2">&quot;trim&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phone_clean&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;filter&quot;</span> <span class="o">:</span> <span class="p">[</span>
              <span class="s2">&quot;remove_non_digits&quot;</span>
            <span class="p">],</span>
            <span class="s2">&quot;tokenizer&quot;</span> <span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;mappings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_clean&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_phonetic&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_clean&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_phonetic&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;street_clean&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;name_clean&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;clean&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
            <span class="s2">&quot;analyzer&quot;</span><span class="o">:</span> <span class="s2">&quot;phone_clean&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <h3><a name="load-tutorial-data"></a>1.5 Load the tutorial data</h3>
<blockquote><p><strong>Note:</strong> Skip this step if you're using the <a href="/sandbox">zentity sandbox</a>.</p>
</blockquote>
<p>Add the tutorial data to the index. This is the same data used in the prior
tutorial on <a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#ae2f18e3748e1c3d9">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="ae2f18e3748e1c3d9"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_bulk</span><span class="o">?</span><span class="nx">refresh</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;allie@example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Allie&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Jones&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;202-555-1234&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;123 Main St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Alicia&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Johnson&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;202-123-4567&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;300 Main St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Allie&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Jones&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;123 Main St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Ally&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Joans&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;202-555-1234&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Arlington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;ej@example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Eli&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Jonas&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;VA&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;500 23rd Street&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;allie@example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Allison&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Jones&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;202-555-1234&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;123 Main St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Allison&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;+1 (202) 555 1234&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;555 Broad St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;alan.smith@example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Alan&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;202-000-5555&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;555 Broad St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;alan.smith@example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Alan&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;2020005555&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;555 Broad St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Alison&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;202-555-9876&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;555 Broad St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;allie@example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Alison&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Jones-Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;2025559867&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;allison.j.smith@corp.example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Allison&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Jones-Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;DC&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;555 Broad St&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;13&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Arlington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_a&quot;</span><span class="o">:</span> <span class="s2">&quot;allison.j.smith@corp.example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Allison&quot;</span><span class="p">,</span> <span class="s2">&quot;id_a&quot;</span><span class="o">:</span> <span class="s2">&quot;13&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_a&quot;</span><span class="o">:</span> <span class="s2">&quot;Jones Smith&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_a&quot;</span><span class="o">:</span> <span class="s2">&quot;703-555-5555&quot;</span><span class="p">,</span> <span class="s2">&quot;state_a&quot;</span><span class="o">:</span> <span class="s2">&quot;VA&quot;</span><span class="p">,</span> <span class="s2">&quot;street_a&quot;</span><span class="o">:</span> <span class="s2">&quot;1 Corporate Way&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;14&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;city_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Arlington&quot;</span><span class="p">,</span> <span class="s2">&quot;email_b&quot;</span><span class="o">:</span> <span class="s2">&quot;elise.jonas@corp.example.net&quot;</span><span class="p">,</span> <span class="s2">&quot;first_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Elise&quot;</span><span class="p">,</span> <span class="s2">&quot;id_b&quot;</span><span class="o">:</span> <span class="s2">&quot;14&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name_b&quot;</span><span class="o">:</span> <span class="s2">&quot;Jonas&quot;</span><span class="p">,</span> <span class="s2">&quot;phone_b&quot;</span><span class="o">:</span> <span class="s2">&quot;703-555-5555&quot;</span><span class="p">,</span> <span class="s2">&quot;state_b&quot;</span><span class="o">:</span> <span class="s2">&quot;VA&quot;</span><span class="p">,</span> <span class="s2">&quot;street_b&quot;</span><span class="o">:</span> <span class="s2">&quot;1 Corporate Way&quot;</span><span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Here's what the tutorial data looks like.</p>
<p><strong>Index A</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left">id_a</th>
<th style="text-align:left">first_name_a</th>
<th style="text-align:left">last_name_a</th>
<th style="text-align:left">street_a</th>
<th style="text-align:left">city_a</th>
<th style="text-align:left">state_a</th>
<th style="text-align:left">phone_a</th>
<th style="text-align:left">email_a</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Allie</td>
<td style="text-align:left">Jones</td>
<td style="text-align:left">123 Main St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">202-555-1234</td>
<td style="text-align:left">allie@example.net</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">Allie</td>
<td style="text-align:left">Jones</td>
<td style="text-align:left">123 Main St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">Eli</td>
<td style="text-align:left">Jonas</td>
<td style="text-align:left">500 23rd Street</td>
<td style="text-align:left">Arlington</td>
<td style="text-align:left">VA</td>
<td style="text-align:left"></td>
<td style="text-align:left">ej@example.net</td>
</tr>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left">Allison</td>
<td style="text-align:left">Smith</td>
<td style="text-align:left">555 Broad St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">+1 (202) 555 1234</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left">Alan</td>
<td style="text-align:left">Smith</td>
<td style="text-align:left">555 Broad St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">2020005555</td>
<td style="text-align:left">alan.smith@example.net</td>
</tr>
<tr>
<td style="text-align:left">11</td>
<td style="text-align:left">Alison</td>
<td style="text-align:left">Jones-Smith</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">2025559867</td>
<td style="text-align:left">allie@example.net</td>
</tr>
<tr>
<td style="text-align:left">13</td>
<td style="text-align:left">Allison</td>
<td style="text-align:left">Jones Smith</td>
<td style="text-align:left">1 Corporate Way</td>
<td style="text-align:left">Arlington</td>
<td style="text-align:left">VA</td>
<td style="text-align:left">703-555-5555</td>
<td style="text-align:left">allison.j.smith@corp.example.net</td>
</tr>
</tbody>
</table>
<p><strong>Index B</strong></p>
<table class="table">
<thead><tr>
<th style="text-align:left">id_b</th>
<th style="text-align:left">first_name_b</th>
<th style="text-align:left">last_name_b</th>
<th style="text-align:left">street_b</th>
<th style="text-align:left">city_b</th>
<th style="text-align:left">state_b</th>
<th style="text-align:left">phone_b</th>
<th style="text-align:left">email_b</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">Alicia</td>
<td style="text-align:left">Johnson</td>
<td style="text-align:left">300 Main St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">202-123-4567</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">Ally</td>
<td style="text-align:left">Joans</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">202-555-1234</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">Allison</td>
<td style="text-align:left">Jones</td>
<td style="text-align:left">123 Main St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">202-555-1234</td>
<td style="text-align:left">allie@example.net</td>
</tr>
<tr>
<td style="text-align:left">8</td>
<td style="text-align:left">Alan</td>
<td style="text-align:left">Smith</td>
<td style="text-align:left">555 Broad St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">202-000-5555</td>
<td style="text-align:left">alan.smith@example.net</td>
</tr>
<tr>
<td style="text-align:left">10</td>
<td style="text-align:left">Alison</td>
<td style="text-align:left">Smith</td>
<td style="text-align:left">555 Broad St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left">202-555-9876</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">12</td>
<td style="text-align:left">Allison</td>
<td style="text-align:left">Jones-Smith</td>
<td style="text-align:left">555 Broad St</td>
<td style="text-align:left">Washington</td>
<td style="text-align:left">DC</td>
<td style="text-align:left"></td>
<td style="text-align:left">allison.j.smith@corp.example.net</td>
</tr>
<tr>
<td style="text-align:left">14</td>
<td style="text-align:left">Elise</td>
<td style="text-align:left">Jonas</td>
<td style="text-align:left">1 Corporate Way</td>
<td style="text-align:left">Arlington</td>
<td style="text-align:left">VA</td>
<td style="text-align:left">703-555-5555</td>
<td style="text-align:left">elise.jonas@corp.example.net</td>
</tr>
</tbody>
</table>
<h2><a name="create-entity-model"></a>2. Create the entity model</h2>
<blockquote><p><strong>Note:</strong> Skip this step if you're using the <a href="/sandbox">zentity sandbox</a>.</p>
</blockquote>
<p>Let's use the <a href="/docs/rest-apis/models-api">Models API</a> to create the entity
model below. This is the same model used in the prior tutorial on
<a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>. This
tutorial will show how to omit some of the resolvers and indices during a
resolution job.</p>
<p><strong>Request</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a2931e4e0d2135ed3">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a2931e4e0d2135ed3"><div class="highlight"><pre><span></span><span class="nx">PUT</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">models</span><span class="o">/</span><span class="nx">zentity_tutorial_5_person</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;first_name&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;last_name&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;street&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;city&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;phone&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;resolvers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;name_street_city_state&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span> <span class="s2">&quot;street&quot;</span><span class="p">,</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span> <span class="s2">&quot;state&quot;</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;name_phone&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span> <span class="s2">&quot;phone&quot;</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;name_email&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span> <span class="s2">&quot;email&quot;</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;email_phone&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span> <span class="s2">&quot;phone&quot;</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;matchers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;simple&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;fuzzy&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;query&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fuzziness&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;exact&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;term&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;indices&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;first_name_a.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;first_name_a.phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;simple&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;last_name_a.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;last_name_a.phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;simple&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;street_a.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;street&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;city_a.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;state_a.keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;state&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;phone_a.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;email_a.keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;first_name_b.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;first_name_b.phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;first_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;simple&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;last_name_b.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;last_name_b.phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;last_name&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;simple&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;street_b.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;street&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;city_b.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;city&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;state_b.keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;state&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;phone_b.clean&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;email_b.keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;email&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <h2><a name="resolve-entity"></a>3. Resolve an entity</h2>
<h2><a name="resolve-entity-scope-indices"></a>3.1 Control the scope of indices</h2>
<p>Let's use the <a href="/docs/rest-apis/resolution-api">Resolution API</a> to resolve a
person with a known first name, last name, and phone number. These are the same
attributes used in the prior tutorial on <a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>,
which returned nine results. This time, we are going to control the scope of the
indices searched during the resolution job. Let's limit the job to the
<code>"zentity_tutorial_5_cross_index_resolution_a"</code> index.</p>
<p><strong>Request</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a258be2e4303be50e">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a258be2e4303be50e"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">/</span><span class="nx">zentity_tutorial_5_person</span><span class="o">?</span><span class="nx">pretty</span><span class="o">&amp;</span><span class="nx">_source</span><span class="o">=</span><span class="kc">false</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;first_name&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allie&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;last_name&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;phone&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-1234&quot;</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;scope&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;include&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;indices&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p><strong>Response</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a0e7be12b806b8adc">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a0e7be12b806b8adc"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;took&quot;</span> <span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
  <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;total&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Washington&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;allie@example.net&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allie&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-1234&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;DC&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;123 Main St&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Washington&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allie&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;DC&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;123 Main St&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>As expected, we retrieved results only from <code>"zentity_tutorial_5_cross_index_resolution_a"</code>.
There are only two results, which is less than the nine results of the prior
tutorial on <a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>
because some of those matches required searching both indices.</p>
<h2><a name="resolve-entity-scope-resolvers"></a>3.2 Control the scope of resolvers</h2>
<p>Let's use the <a href="/docs/rest-apis/resolution-api">Resolution API</a> to resolve a
person with a known first name, last name, and phone number. These are the same
attributes used in the prior tutorial on <a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>,
which returned nine results. This time, we are going to control the scope of the
resolvers searched during the resolution job. Let's exclude only the
<code>"name_street_city_state"</code> resolver. Let's also search across both indices.</p>
<p><strong>Request</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a4278762f1dfcb65c">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a4278762f1dfcb65c"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">/</span><span class="nx">zentity_tutorial_5_person</span><span class="o">?</span><span class="nx">pretty</span><span class="o">&amp;</span><span class="nx">_source</span><span class="o">=</span><span class="kc">false</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;first_name&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allie&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;last_name&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;phone&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-1234&quot;</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;scope&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;include&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;indices&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;exclude&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;resolvers&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">&quot;name_street_city_state&quot;</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p><strong>Response</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#acc2eddfa87025964">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="acc2eddfa87025964"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;took&quot;</span> <span class="o">:</span> <span class="mi">42</span><span class="p">,</span>
  <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;total&quot;</span> <span class="o">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Washington&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;allie@example.net&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allie&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-1234&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;DC&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;123 Main St&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Ally&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Joans&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-1234&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Washington&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;allie@example.net&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allison&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-1234&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;DC&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;123 Main St&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;allie@example.net&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Alison&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Jones-Smith&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;2025559867&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_a&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Washington&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Allison&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Smith&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;+1 (202) 555 1234&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;DC&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;555 Broad St&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;zentity_tutorial_5_cross_index_resolution_b&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s2">&quot;_query&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;city&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Washington&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;email&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;first_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Alison&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;last_name&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Smith&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;phone&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;202-555-9876&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;state&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;DC&quot;</span> <span class="p">],</span>
        <span class="s2">&quot;street&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;555 Broad St&quot;</span> <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>This time we retrieved six results total from two indices, which is less than
the nine results of the prior tutorial on <a href="/docs/basic-usage/cross-index-resolution">cross index resolution</a>
because some of those matches required using the <code>"name_street_city_state"</code>
resolver that we excluded in this job.</p>
<blockquote><p><strong>Tip</strong></p>
<p>If you want to include all indices in your resolution job, then you can omit
<code>"scope.include.indices"</code> altogether as we did in prior tutorials. But when
you begin to use the same entity model for different applications, then you
might not need to search every index in every application. As a best pratice,
use <code>"scope.include.indices"</code> to prevent unnecessary searches and results.
Conversely, as a best pratice, use <code>"scope.exclude.resolvers"</code> and
<code>"scope.exclude.attributes"</code> to exclude unnecessary details about the entity.
You can be more liberal with your use of resolvers and attributes, because
they will only be used for the indices that support them.</p>
</blockquote>
<h2><a name="conclusion"></a>Conclusion</h2>
<p>Congratulations! You learned how to resolve an entity using a controlled scope
of indices and resolvers. This is an important concept to understand and
implement when you use zentity in production.</p>
<p>&nbsp;</p>
<hr>
<h4>Continue Reading</h4>
<table class="table">
<thead><tr>
<th style="text-align:left">&#8249;</th>
<th style="text-align:left"><a href="/docs/basic-usage/cross-index-resolution">Cross Index Resolution</a></th>
<th style="text-align:right"><a href="/docs/advanced-usage">Advanced Usage</a></th>
<th style="text-align:right">&#8250;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>

      </div>
      <div id="bottom">
        <small>
          <div>
            &copy; 2018 - 2021 <a href="https://github.com/davemoore-" title="Dave Moore" onclick="to('https://github.com/davemoore-');">Dave Moore</a>.
          </div>
          <div>
            Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" onclick="to('http://www.apache.org/licenses/LICENSE-2.0');">Apache License, Version 2.0</a>.
          </div>
          <div>
            Elasticsearch is a trademark of Elasticsearch BV.
          </div>
          <div>
            This website uses Google Analytics.</div>
        </small>
      </div>
    </div>
  </body>
  <script>$(document).ready(function(){ new ClipboardJS('.copy'); });</script>
</html>

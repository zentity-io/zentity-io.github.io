<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>zentity - Basic Usage</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.8"/>
    <meta name="description" content="zentity brings entity resolution to Elasticsearch. Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <meta property="og:title" content="zentity - Entity Resolution for Elasticsearch"/>
    <meta property="og:description" content="Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <meta property="og:image" content="/img/zentity-og-image.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://zentity.io/"/>
    <meta name="twitter:title" content="zentity - Entity Resolution for Elasticsearch"/>
    <meta name="twitter:description" content="Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/all.css?id=539322477"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-27325874-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-27325874-2');
      var to = function(uri, event_category) {
        gtag('event', 'click', {
          'event_category': event_category,
          'event_label': uri,
          'transport_type': 'beacon',
          'event_callback': function(){document.location = uri;}
        });
      };
    </script><script src="/js/all.js?id=510183714"></script>
  </head>
  <body>
    <div id="app" >
      <div id="top"><div id="nav">
          <div style="max-width:950px;margin:0 auto;">
            <a href="/">
              <h1 aria-label="zentity">
                <span style="color:rgb(0,169,224)">z</span><span style="color:rgb(14,119,205)">en</span><span style="color:rgb(31,73,125)">tity</span>
              </h1>
            </a>
            <div id="buttons">
              <a href="/docs">
                <button type="button" class="btn btn-sm btn-primary" aria-label="Documentation">
                  Documentation
                </button>
              </a>
              <a href="/releases">
                <button type="button" class="btn btn-sm btn-link" aria-label="Releases">
                  Releases
                </button>
              </a>
              <a href="https://github.com/zentity-io/zentity" title="Github" onclick="to('https://github.com/zentity-io/zentity');">
                <button type="button" class="btn btn-sm btn-link" aria-label="Github">
                  Github
                </button>
              </a>
            </div>
          </div>
        </div></div>
      <div id="main" class="content">
        <p><a href="/">Home</a> / <a href="/docs">Documentation</a> / Advanced Usage</p>
<h4><a name="contents"></a>Basic Usage Tutorials ðŸ“–</h4>
<p>This tutorial series will help you learn and perform the basic functions of
zentity. Each tutorial adds a little more sophistication to the prior tutorials,
so you can start simple and learn the more advanced features over time.</p>
<ol>
<li><a href="/docs/basic-usage/exact-name-matching">Exact Name Matching</a></li>
<li><a href="/docs/basic-usage/robust-name-matching">Robust Name Matching</a></li>
<li><a href="/docs/basic-usage/multiple-attribute-resolution">Multiple Attribute Resolution</a></li>
<li><a href="/docs/basic-usage/multiple-resolver-resolution">Multiple Resolver Resolution</a></li>
<li><a href="/docs/basic-usage/cross-index-resolution">Cross Index Resolution</a></li>
<li><a href="/docs/basic-usage/scoping-resolution">Scoping Resolution</a></li>
</ol>
<h2><a name="prerequisites"></a>Prerequisites</h2>
<p>You must know how to use the Elasticsearch APIs before you can learn how to use
zentity.</p>
<p>Specifically you should know:</p>
<ul>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-create-index.html', 'outbound');" class="external">How to create indices</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html', 'outbound');" class="external">How to create index mappings</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html', 'outbound');" class="external">How to create text analyzers</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html', 'outbound');" class="external">How to index data</a></li>
<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html', 'outbound');" class="external">How to search data using the Query DSL</a></li>
</ul>
<p>If you truly wish to master the most important aspects of Elasticsearch for
zentity, then I would recommend you take these training courses offered by
Elastic, the creators of Elasticsearch.</p>
<ul>
<li><a href="https://www.elastic.co/training/elasticsearch-engineer-1" onclick="to('https://www.elastic.co/training/elasticsearch-engineer-1', 'outbound');" class="external">Elasticsearch Engineer I</a></li>
<li><a href="https://www.elastic.co/training/elasticsearch-engineer-2" onclick="to('https://www.elastic.co/training/elasticsearch-engineer-2', 'outbound');" class="external">Elasticsearch Engineer II</a></li>
<li><a href="https://www.elastic.co/training/specializations/elasticsearch-advanced-search/improving-search-with-text-analysis" onclick="to('https://www.elastic.co/training/specializations/elasticsearch-advanced-search/improving-search-with-text-analysis', 'outbound');" class="external">Improving Search with Text Analysis</a></li>
<li><a href="https://www.elastic.co/training/specializations/elasticsearch-advanced-search/improving-search-with-synonyms" onclick="to('https://www.elastic.co/training/specializations/elasticsearch-advanced-search/improving-search-with-synonyms', 'outbound');" class="external">Improving Search with Synonyms</a></li>
</ul>
<p>If you have some basic experience with Elasticsearch, then you are ready to
learn how to use zentity.</p>
<h2><a name="how-to-use-zentity"></a>How to use zentity</h2>
<p>Before we dive in, let's look at the typical usage of zentity at a high level.</p>
<p>You can think of zentity as three step process:</p>
<ul>
<li>Step 1. Index some data</li>
<li>Step 2. Define an entity model</li>
<li>Step 3. Resolve an entity</li>
</ul>
<p>Let's break it down a bit more.</p>
<h3><a name="index-data"></a>Step 1. Index some data</h3>
<p>zentity operates on data that is indexed in <strong><a href="https://www.elastic.co/products/elasticsearch" onclick="to('https://www.elastic.co/products/elasticsearch', 'outbound');" class="external">Elasticsearch</a></strong>,
an open source search engine for real-time search and analytics at scale. The most common tools for indexing
documents in Elasticsearch are <a href="https://www.elastic.co/guide/en/logstash/6.1/introduction.html" onclick="to('https://www.elastic.co/guide/en/logstash/6.1/introduction.html', 'outbound');" class="external">Logstash</a> and
<a href="https://www.elastic.co/guide/en/beats/libbeat/current/beats-reference.html" onclick="to('https://www.elastic.co/guide/en/beats/libbeat/current/beats-reference.html', 'outbound');" class="external">Beats</a>. You can also index single
documents using the <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/index-doc.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/guide/current/index-doc.html', 'outbound');" class="external">Index API</a> or
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html', 'outbound');" class="external">Bulk API</a>. You need to have
data in Elasticsearch before you can use zentity. You need to know how to use Elasticsearch, too.</p>
<p>Each tutorial in this series will give you sample data that you can use for practice.</p>
<h3><a name="define-entity-model"></a>Step 2. Define an entity model</h3>
<p><strong><a href="/docs/entity-models">Entity models</a></strong> are the most important constructs you need to learn about. zentity uses entity
models to construct queries, match attributes across disparate indices, and resolve entities.</p>
<p>An <em>entity model</em> defines the logic for resolving an <em>entity type</em> such as a person or organization. It defines the
attributes of the entity (<a href="/docs/entity-models/specification#attributes"><code>"attributes"</code></a>), the logic to match each attribute
(<a href="/docs/entity-models/specification#matchers"><code>"matchers"</code></a>), the logic to resolve documents to an entity based on the
matching attributes (<a href="/docs/entity-models/specification#resolvers"><code>"resolvers"</code></a>), and the associations between attributes and matchers with
index fields (<a href="/docs/entity-models/specification#indices"><code>"indices"</code></a>). This is the step that demands the most thinking. You need to
think about what attributes constitute an entity type, what logic goes into matching each attribute, which attributes and
matchers map to which fields of which indices, and what combinations of matched attributes lead to resolution.</p>
<p>Luckily, all this thinking will pay off quickly, because entity models have two great features:</p>
<p><strong>Reusability</strong></p>
<p>Once you have an entity model you can use it everywhere. As you index new data sets with fields that map to familiar
attributes, you can include them in your entity resolution jobs. If you index data with new attributes that aren't
already in your model, you can simply update your model to support them.</p>
<p><strong>Flexibility</strong></p>
<p>You don't need to change your data to use an entity model. An entity model only controls the execution of queries.
So there's no risk in updating or experimenting with an entity model.</p>
<h3><a name="submit-resolution-request"></a>Step 3. Resolve an entity</h3>
<p>So you have some data and an entity model. Now you can resolve entities!</p>
<p>Once you have an <a href="/docs/entity-models">entity model</a>, you can use the <strong><a href="/docs/rest-apis/resolution-api">Resolution API</a></strong> to run an
entity resolution job using some input.</p>
<p><strong>Example</strong></p>
<p>Run an entity resolution job using an indexed entity model called <code>person</code>.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a97a7796eb9da9f7b">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a97a7796eb9da9f7b"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">/</span><span class="nx">person</span><span class="o">?</span><span class="nx">pretty</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Alice Jones&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;dob&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;1984-01-01&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;phone&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;555-123-4567&quot;</span><span class="p">,</span> <span class="s2">&quot;555-987-6543&quot;</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Run an entity resolution job using an embeded entity model. This example uses three attributes, two resolvers, and two indices.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a7c6af4898336ae08">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a7c6af4898336ae08"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">?</span><span class="nx">pretty</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;Alice Jones&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;dob&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;1984-01-01&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;phone&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;555-123-4567&quot;</span><span class="p">,</span> <span class="s2">&quot;555-987-6543&quot;</span> <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;model&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="p">{</span>
 Â  Â  Â  Â <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;dob&quot;</span><span class="o">:</span> <span class="p">{</span>
 Â  Â  Â  Â <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;phone&quot;</span><span class="o">:</span> <span class="p">{</span>
 Â  Â  Â  Â <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;resolvers&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;name_dob&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;dob&quot;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="s2">&quot;name_phone&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;phone&quot;</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;matchers&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;exact&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;term&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;fuzzy&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="p">{</span>
              <span class="s2">&quot;query&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span><span class="p">,</span>
              <span class="s2">&quot;fuzziness&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ params.fuzziness }}&quot;</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;fuzziness&quot;</span><span class="o">:</span> <span class="s2">&quot;auto&quot;</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;standard&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;match&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;indices&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;foo_index&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;full_name&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;full_name.phonetic&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;date_of_birth.keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;dob&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;telephone.keyword&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;bar_index&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;nm&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;fuzzy&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;db&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;dob&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;ph&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
            <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;standard&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Now that you have a sense of what to expect, let's walk through some guided
tutorials to help you master the basic functions of zentity.</p>
<p>&nbsp;</p>
<hr>
<h4>Continue Reading</h4>
<table class="table">
<thead><tr>
<th style="text-align:left">&#8249;</th>
<th style="text-align:left"><a href="/docs/installation">Installation</a></th>
<th style="text-align:right"><a href="/docs/basic-usage/exact-name-matching">Exact Name Matching</a></th>
<th style="text-align:right">&#8250;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>

      </div>
      <div id="bottom">
        <small>
          <div>
            &copy; 2018 <a href="https://github.com/davemoore-" title="Dave Moore" onclick="to('https://github.com/davemoore-');">Dave Moore</a>.
          </div>
          <div>
            Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" onclick="to('http://www.apache.org/licenses/LICENSE-2.0');">Apache License, Version 2.0</a>.
          </div>
          <div>
            Elasticsearch is a trademark of Elasticsearch BV.
          </div>
          <div>
            This website uses Google Analytics.</div>
        </small>
      </div>
    </div>
  </body>
  <script>$(document).ready(function(){ new ClipboardJS('.copy'); });</script>
</html>

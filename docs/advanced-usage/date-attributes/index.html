<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>zentity - Date Attributes</title>
    <meta name="viewport" content="width=device-width, initial-scale=0.8"/>
    <meta name="description" content="zentity brings entity resolution to Elasticsearch. Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <meta property="og:title" content="zentity - Entity Resolution for Elasticsearch"/>
    <meta property="og:description" content="Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <meta property="og:image" content="/img/zentity-og-image.png"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://zentity.io/"/>
    <meta name="twitter:title" content="zentity - Entity Resolution for Elasticsearch"/>
    <meta name="twitter:description" content="Connect the hidden fragments of an identity in your data. Fast, scalable, open source."/>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/all.css?id=572901304"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-27325874-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-27325874-2');
      var to = function(uri, event_category) {
        gtag('event', 'click', {
          'event_category': event_category,
          'event_label': uri,
          'transport_type': 'beacon',
          'event_callback': function(){document.location = uri;}
        });
      };
    </script><script src="/js/all.js?id=178334872"></script>
  </head>
  <body>
    <div id="app" >
      <div id="top"><div id="nav">
          <div style="max-width:950px;margin:0 auto;">
            <a href="/">
              <h1 aria-label="zentity">
                <span style="color:rgb(0,169,224)">z</span><span style="color:rgb(14,119,205)">en</span><span style="color:rgb(31,73,125)">tity</span>
              </h1>
            </a>
            <div id="buttons">
              <a href="/docs">
                <button type="button" class="btn btn-sm btn-primary" aria-label="Documentation">
                  Documentation
                </button>
              </a>
              <a href="/releases">
                <button type="button" class="btn btn-sm btn-link" aria-label="Releases">
                  Releases
                </button>
              </a>
              <a href="https://github.com/zentity-io/zentity" title="Github" onclick="to('https://github.com/zentity-io/zentity');">
                <button type="button" class="btn btn-sm btn-link" aria-label="Github">
                  Github
                </button>
              </a>
            </div>
          </div>
        </div></div>
      <div id="main" class="content">
        <p>ï»¿<a href="/">Home</a> / <a href="/docs">Documentation</a> / <a href="/docs/advanced-usage">Advanced Usage</a> / Date Attributes</p>
<h4><a name="contents"></a>Advanced Usage Tutorials ðŸ“–</h4>
<p>This tutorial is part of a series to help you learn and perform the advanced
functions of zentity. You should complete the <a href="/docs/basic-usage">basic usage</a>
tutorials before completing these advanced usage tutorials.</p>
<ol>
<li><a href="/docs/advanced-usage/matcher-parameters">Matcher Parameters</a></li>
<li><strong>Date Attributes</strong> <em>&#8592; You are here.</em></li>
<li><a href="/docs/advanced-usage/payload-attributes">Payload Attributes</a></li>
</ol>
<hr>
<h1><a name="date-attributes"></a>Date Attributes</h1>
<p>Date attributes are useful in many applications of entity resolution. You can resolve a person with the aid of a date of birth, a credit card with a date of expiration,
a driver's license with a date of issuance, or an event with a specific timestamp. You can use a date range to disambiguate two people who occupied the same home address at different times,
preventing a false match. You can reliably sessionize events in an application log by the client IP address if you match the events within a small time window, knowing that IP addresses
can change owners over longer periods of time.</p>
<p>Date matching comes its own challenges. Indices can represent dates and times in different formats
and at different levels of precision. Sometimes it makes sense to match within a date or time range rather than a specific point in time. zentity uses date attributes to help surmount these challenges.</p>
<p>The <a href="/docs/entity-models/specification#attribute-type-date"><code>"date"</code></a> attribute type can be used to match <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html', 'outbound');" class="external">date</a> fields in Elasticsearch.
Date attributes use <a href="/docs/advanced-usage/matcher-parameters">matcher parameters</a> to define the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html', 'outbound');" class="external">"format"</a> of the date field.
A <code>"format"</code> parameter is required to ensure that matchers use the date format that the indexed date field expects.
You must understand how matcher parameters work before writing date matchers.</p>
<p>This tutorial will show you how to write a matcher that gives you control over the window of a date range query.</p>
<p>Let's dive in.</p>
<blockquote><p><strong>Important</strong></p>
<p>You must install <a href="https://www.elastic.co/downloads/elasticsearch" onclick="to('https://www.elastic.co/downloads/elasticsearch', 'outbound');" class="external">Elasticsearch</a>, <a href="https://www.elastic.co/downloads/kibana" onclick="to('https://www.elastic.co/downloads/kibana', 'outbound');" class="external">Kibana</a>, and <a href="/docs/installation">zentity</a> to complete this tutorial.
This tutorial was tested with <a href="/docs/releases">zentity-1.0.2-elasticsearch-6.7.0</a>.</p>
</blockquote>
<h2><a name="prepare"></a>1. Prepare for the tutorial</h2>
<h3><a name="open-kibana-console-ui"></a>1.1 Open the Kibana Console UI</h3>
<p>The <a href="https://www.elastic.co/guide/en/kibana/current/console-kibana.html" onclick="to('https://www.elastic.co/guide/en/kibana/current/console-kibana.html', 'outbound');" class="external">Kibana Console UI</a> makes it easy to submit requests to Elasticsearch and read responses.</p>
<h3><a name="delete-old-tutorial-indices"></a>1.2 Delete any old tutorial indices</h3>
<p>Let's start from scratch. Delete any tutorial indices you might have created from other tutorials.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#aa6f40208efe0c4c5">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="aa6f40208efe0c4c5"><div class="highlight"><pre><span></span><span class="nx">DELETE</span> <span class="p">.</span><span class="nx">zentity</span><span class="o">-</span><span class="nx">tutorial</span><span class="o">-*</span>
</pre></div>
</span>
        </div>
        <h3><a name="create-tutorial-index"></a>1.3 Create the tutorial index</h3>
<p>Now create the index for this tutorial.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#ae491f09c7eefd4e4">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="ae491f09c7eefd4e4"><div class="highlight"><pre><span></span><span class="nx">PUT</span> <span class="p">.</span><span class="nx">zentity</span><span class="o">-</span><span class="nx">tutorial</span><span class="o">-</span><span class="nx">index</span>
<span class="p">{</span>
  <span class="s2">&quot;settings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;number_of_shards&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;number_of_replicas&quot;</span><span class="o">:</span> <span class="mi">0</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;mappings&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;_doc&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;properties&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;date&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;keyword&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <h3><a name="load-tutorial-data"></a>1.4 Load the tutorial data</h3>
<p>Add the tutorial data to the index.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#aad9667f86bd29243">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="aad9667f86bd29243"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_bulk</span><span class="o">?</span><span class="nx">refresh</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:08.782&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.2.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:27.745&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.2.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/releases&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:01.956&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:08.345&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.3.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:08.921&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:21:00.003&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.2.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:22:07.565&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.2.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:28:11.114&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs/basic-usage&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;13&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-02-28T23:30:45.346&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;13&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.3.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs/releases&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;14&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-03-01T10:30:45.982&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;14&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.4.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-03-02T12:30:45.452&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;16&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-03-03T14:32:01.837&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;16&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;17&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-03-03T14:32:03.897&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;17&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/releases&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="o">:</span> <span class="s2">&quot;18&quot;</span><span class="p">,</span> <span class="s2">&quot;_index&quot;</span><span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span> <span class="s2">&quot;_type&quot;</span><span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">}}</span>
<span class="p">{</span><span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="s2">&quot;2019-03-03T12:33:56.553&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;18&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span> <span class="s2">&quot;path&quot;</span><span class="o">:</span> <span class="s2">&quot;/docs&quot;</span><span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Here's what the tutorial data looks like.</p>
<table class="table">
<thead><tr>
<th style="text-align:left">id</th>
<th style="text-align:left">timestamp</th>
<th style="text-align:left">ip</th>
<th style="text-align:left">path</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">2019-02-28T23:01:45.248</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">2019-02-28T23:02:05.658</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/docs</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">2019-02-28T23:02:08.782</td>
<td style="text-align:left">192.168.2.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">2019-02-28T23:02:12.024</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/docs/installation</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">2019-02-28T23:02:27.745</td>
<td style="text-align:left">192.168.2.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">2019-02-28T23:02:15.628</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/releases</td>
</tr>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left">2019-02-28T23:14:01.956</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/docs</td>
</tr>
<tr>
<td style="text-align:left">8</td>
<td style="text-align:left">2019-02-28T23:14:08.345</td>
<td style="text-align:left">192.168.3.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">9</td>
<td style="text-align:left">2019-02-28T23:14:08.921</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/docs/installation</td>
</tr>
<tr>
<td style="text-align:left">10</td>
<td style="text-align:left">2019-02-28T23:21:00.003</td>
<td style="text-align:left">192.168.2.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">11</td>
<td style="text-align:left">2019-02-28T23:22:07.565</td>
<td style="text-align:left">192.168.2.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">12</td>
<td style="text-align:left">2019-02-28T23:28:11.114</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/docs/basic-usage</td>
</tr>
<tr>
<td style="text-align:left">13</td>
<td style="text-align:left">2019-02-28T23:30:45.346</td>
<td style="text-align:left">192.168.3.1</td>
<td style="text-align:left">/releases</td>
</tr>
<tr>
<td style="text-align:left">14</td>
<td style="text-align:left">2019-03-01T10:30:45.982</td>
<td style="text-align:left">192.168.4.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">15</td>
<td style="text-align:left">2019-03-02T12:30:45.452</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">16</td>
<td style="text-align:left">2019-03-03T14:32:01.837</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/</td>
</tr>
<tr>
<td style="text-align:left">17</td>
<td style="text-align:left">2019-03-03T14:32:03.897</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/releases</td>
</tr>
<tr>
<td style="text-align:left">18</td>
<td style="text-align:left">2019-03-03T12:33:56.553</td>
<td style="text-align:left">192.168.0.1</td>
<td style="text-align:left">/docs</td>
</tr>
</tbody>
</table>
<h2><a name="create-entity-model"></a>2. Create the entity model</h2>
<p>Let's use the <a href="/docs/rest-apis/models-api">Models API</a> to create the entity model below. We'll review the matchers in depth.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#aaf7f60bfd07681d2">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="aaf7f60bfd07681d2"><div class="highlight"><pre><span></span><span class="nx">PUT</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">models</span><span class="o">/</span><span class="nx">zentity</span><span class="o">-</span><span class="nx">tutorial</span><span class="o">-</span><span class="nx">http</span><span class="o">-</span><span class="nx">session</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;date&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;resolvers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;timestamp_ip&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">,</span> <span class="s2">&quot;ip&quot;</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;matchers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;exact&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;term&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;time_range&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;range&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;gte&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}||-{{ params.window }}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lte&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}||+{{ params.window }}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;format&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ params.format }}&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;format&quot;</span><span class="o">:</span> <span class="s2">&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;window&quot;</span><span class="o">:</span> <span class="s2">&quot;15m&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">&quot;indices&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;fields&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;time_range&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;attribute&quot;</span><span class="o">:</span> <span class="s2">&quot;ip&quot;</span><span class="p">,</span>
          <span class="s2">&quot;matcher&quot;</span><span class="o">:</span> <span class="s2">&quot;exact&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <h3><a name="review-matchers"></a>2.1 Review the matchers</h3>
<p>We defined two matchers called <code>"exact"</code> and <code>"time_range"</code>. The <code>"exact"</code>
matcher is used to match the IP address.</p>
<p>Let's focus on the <code>"time_range"</code> matcher. Our matcher uses a <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html#ranges-on-dates" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-range-query.html#ranges-on-dates', 'outbound');" class="external">range query</a>
with <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#date-math" onclick="to('https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#date-math', 'outbound');" class="external">date math</a>
to match documents within a given time window.</p>
<p>Here is an example of a range query with date math as shown in the documentation:</p>
<p><strong>Example Range Query with Date Math</strong></p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a68452d5f8cef0343">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a68452d5f8cef0343"><div class="highlight"><pre><span></span><span class="nx">GET</span> <span class="nx">_search</span>
<span class="p">{</span>
  <span class="s2">&quot;query&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;range&quot;</span> <span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;date&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;gte&quot;</span><span class="o">:</span> <span class="s2">&quot;now-1d/d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lt&quot;</span><span class="o">:</span>  <span class="s2">&quot;now/d&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Here is how we adapted that range query and added the parameters in our
<code>"time_range"</code> matcher. Notice that it includes the <code>"format"</code> parameter that
date attributes require, and a <code>"window"</code> parameter to control the time window
of the range query.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#ad9fb1b5efd9db0b8">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="ad9fb1b5efd9db0b8"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;matchers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;time_range&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;clause&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;range&quot;</span><span class="o">:</span> <span class="p">{</span>
          <span class="s2">&quot;{{ field }}&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;gte&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}||-{{ params.window }}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lte&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ value }}||+{{ params.window }}&quot;</span><span class="p">,</span>
            <span class="s2">&quot;format&quot;</span><span class="o">:</span> <span class="s2">&quot;{{ params.format }}&quot;</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;format&quot;</span><span class="o">:</span> <span class="s2">&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;</span><span class="p">,</span>
        <span class="s2">&quot;window&quot;</span><span class="o">:</span> <span class="s2">&quot;15m&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <h2><a name="resolve-entity"></a>3. Resolve an entity</h2>
<p>Let's use the <a href="/docs/rest-apis/resolution-api">Resolution API</a> to resolve a
web traffic session with a known IP address at a given timestamp:</p>
<p>Submit a resolution job with the <code>"window"</code> parameter set to its default value,
which we defined as <code>"15m"</code> in the matcher.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a65ad4bf9fa000441">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a65ad4bf9fa000441"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">/</span><span class="nx">zentity</span><span class="o">-</span><span class="nx">tutorial</span><span class="o">-</span><span class="nx">http</span><span class="o">-</span><span class="nx">session</span><span class="o">?</span><span class="nx">pretty</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;192.168.0.1&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>The results will look like this.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a6e3e3601cb3245f4">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a6e3e3601cb3245f4"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;took&quot;</span> <span class="o">:</span> <span class="mi">25</span><span class="p">,</span>
  <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;total&quot;</span> <span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/releases&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:01.956&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:01.956&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:08.921&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:08.921&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:28:11.114&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:28:11.114&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/basic-usage&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Notice how the document with an <code>"_id"</code> of "<code>12</code>" has a timestamp that is
greater than 15 minutes from the timestamp of our input, even though our default
<code>"window"</code> parameter is <code>"15m"</code>. That is because the timestamp of that document
was within 15 minutes of another document that was within 15 minutes of the
initial results, which was the document with an <code>"_id"</code> of <code>"9"</code>. The <code>"window"</code>
parameter limits the time range of each hop, not the time range of the entire
resolution job. It is entirely possible to chain together many documents over
a long time range where each pair of documents must match within a much
smaller time range.</p>
<p>Now let's expand the <code>"window"</code> parameter from <code>"15m"</code> to <code>"2d"</code>.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a302c6a2e739e6d1a">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a302c6a2e739e6d1a"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">/</span><span class="nx">zentity</span><span class="o">-</span><span class="nx">tutorial</span><span class="o">-</span><span class="nx">http</span><span class="o">-</span><span class="nx">session</span><span class="o">?</span><span class="nx">pretty</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;192.168.0.1&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;values&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span> <span class="p">],</span>
      <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;window&quot;</span><span class="o">:</span> <span class="s2">&quot;2d&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>The results will look like this:</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a7c92cefa9ac7f6fd">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a7c92cefa9ac7f6fd"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;took&quot;</span> <span class="o">:</span> <span class="mi">12</span><span class="p">,</span>
  <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;total&quot;</span> <span class="o">:</span> <span class="mi">11</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/releases&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:01.956&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:01.956&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:08.921&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:14:08.921&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:28:11.114&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:28:11.114&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;12&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/basic-usage&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-02T12:30:45.452&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-02T12:30:45.452&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;15&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;16&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-03T14:32:01.837&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-03T14:32:01.837&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;16&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;17&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-03T14:32:03.897&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-03T14:32:03.897&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;17&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/releases&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;18&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-03T12:33:56.553&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-03-03T12:33:56.553&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;18&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>Expanding the time range allowed us to return four more documents that appeared
several days after the other documents.</p>
<p>What if we contracted the <code>"window"</code> parameter to a small value such as <code>"2m"</code>?
Let's find out.</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a000d752ea70de314">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a000d752ea70de314"><div class="highlight"><pre><span></span><span class="nx">POST</span> <span class="nx">_zentity</span><span class="o">/</span><span class="nx">resolution</span><span class="o">/</span><span class="nx">zentity</span><span class="o">-</span><span class="nx">tutorial</span><span class="o">-</span><span class="nx">http</span><span class="o">-</span><span class="nx">session</span><span class="o">?</span><span class="nx">pretty</span>
<span class="p">{</span>
  <span class="s2">&quot;attributes&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;ip&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;192.168.0.1&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;timestamp&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;values&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span> <span class="p">],</span>
      <span class="s2">&quot;params&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;window&quot;</span><span class="o">:</span> <span class="s2">&quot;2d&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>The results will look like this:</p>

        <div class="code">
          <button type="button" class="btn btn-sm btn-link copy" data-clipboard-target="#a3f5dd3cc8f9f31c2">
            <span style="font-size:24px;">&#x2398</span> Copy to clipboard
          </button>
          <span id="a3f5dd3cc8f9f31c2"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;took&quot;</span> <span class="o">:</span> <span class="mi">8</span><span class="p">,</span>
  <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;total&quot;</span> <span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;hits&quot;</span> <span class="o">:</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:01:45.248&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:05.658&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:12.024&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/docs/installation&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">{</span>
      <span class="s2">&quot;_index&quot;</span> <span class="o">:</span> <span class="s2">&quot;.zentity-tutorial-index&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_type&quot;</span> <span class="o">:</span> <span class="s2">&quot;_doc&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
      <span class="s2">&quot;_hop&quot;</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="s2">&quot;_attributes&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span>
      <span class="p">},</span>
      <span class="s2">&quot;_source&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@timestamp&quot;</span> <span class="o">:</span> <span class="s2">&quot;2019-02-28T23:02:15.628&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span> <span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ip&quot;</span> <span class="o">:</span> <span class="s2">&quot;192.168.0.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path&quot;</span> <span class="o">:</span> <span class="s2">&quot;/releases&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</span>
        </div>
        <p>This returned four results over two hops. The first result matched one document
whose timestamp was within two minutes of our input, and the remaining documents
had timestamps that were within two minutes of the first result.</p>
<h2><a name="conclusion"></a>Conclusion</h2>
<p>You learned about date attributes and how to write a matcher that matches dates
within an arbitrary window of time.</p>
<p>&nbsp;</p>
<hr>
<h4>Continue Reading</h4>
<table class="table">
<thead><tr>
<th style="text-align:left">&#8249;</th>
<th style="text-align:left"><a href="/docs/advanced-usage/matcher-parameters">Matcher Parameters</a></th>
<th style="text-align:right"><a href="/docs/advanced-usage/payload-attributes">Payload Attributes</a></th>
<th style="text-align:right">&#8250;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:right"></td>
<td style="text-align:right"></td>
</tr>
</tbody>
</table>

      </div>
      <div id="bottom">
        <small>
          <div>
            &copy; 2018 <a href="https://github.com/davemoore-" title="Dave Moore" onclick="to('https://github.com/davemoore-');">Dave Moore</a>.
          </div>
          <div>
            Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" onclick="to('http://www.apache.org/licenses/LICENSE-2.0');">Apache License, Version 2.0</a>.
          </div>
          <div>
            Elasticsearch is a trademark of Elasticsearch BV.
          </div>
          <div>
            This website uses Google Analytics.</div>
        </small>
      </div>
    </div>
  </body>
  <script>$(document).ready(function(){ new ClipboardJS('.copy'); });</script>
</html>
